(this["webpackJsonpbattleship-game"]=this["webpackJsonpbattleship-game"]||[]).push([[0],{15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),i=r(7),c=r.n(i),s=r(0);var o=function(){return Object(s.jsx)("h1",{children:"Battleship"})},l=r(9),u=r(3),d=r.n(u);var m=function(e){return Object(s.jsx)("div",{className:"game-board ".concat(e.boardOwner),children:Object(s.jsx)("div",{className:"game-water ".concat(e.waterOwner)})})};var b=function(e){return Object(s.jsx)("div",{className:"ship-dock ".concat(e.shipOwner)})};var f=function(){return Object(s.jsxs)("div",{className:"board-n-ships",children:[Object(s.jsx)(m,{boardOwner:"users-board",waterOwner:"users-water"}),Object(s.jsx)(b,{shipOwner:"user-ships"}),Object(s.jsx)("p",{children:"Your Battleships"})]})};var h=function(){return Object(s.jsxs)("div",{className:"board-n-ships",children:[Object(s.jsx)(m,{boardOwner:"pc-board",waterOwner:"pc-water"}),Object(s.jsx)(b,{shipOwner:"pc-ships"}),Object(s.jsx)("p",{children:"Computer's Battleships"})]})},y=r(1);var p=function(){var e=document.getElementsByClassName("game-board");Object(y.a)(e).forEach((function(e){for(var t=0;t<121;t++){var r=document.createElement("div");if(r.classList.add("coordinate"),t>0&&t<11){r.append(["","A","B","C","D","E","F","G","H","I","J"][t])}/^11$|22|33|44|55|66|77|88|99|110/.test(t.toString())&&r.append(t.toString().slice(1)),e.appendChild(r)}}))};var v=function(){var e=document.getElementsByClassName("game-water");Object(y.a)(e).forEach((function(e){for(var t=0;t<100;t++){var r=document.createElement("div");r.classList.add("cell"),e.classList.contains("pc-water")?r.setAttribute("id","pc-cell-".concat(t)):r.setAttribute("id","user-cell-".concat(t)),e.appendChild(r)}}))};var g=function(e,t,r,n,a,i,c,s,o,l,u,d){t.forEach((function(t){var m=document.createElement("div"),b=function(){return Math.floor(100*Math.random())},f=Math.floor(2*Math.random())%2===0?"h":"v",h=document.getElementsByClassName("users-water")[0].children[0].clientWidth,p=Object(y.a)(new Set([].concat(Object(y.a)(u.aircraftCarrier),Object(y.a)(u.battleship),Object(y.a)(u.cruiser),Object(y.a)(u.submarine),Object(y.a)(u.destroyer)))),v=b(),g=[],j=!1;function O(){for(var e=0;e<g.length;e++)if(p.includes(g[e]))return void(j=!0)}if("user"===e&&(m.setAttribute("id",t.id),m.setAttribute("data-orientation",f)),"h"===f){for("user"===e&&(m.style.width=h*t.length+"px",m.style.height=h+"px"),g=n(v,t.name,f),O();t.notHeadColumns.test(r(v))||j;)j=!1,v=b(),g=n(v,t.name,f),O();u[t.name]=n(v,t.name,f),d[t.name]=a(v,t.name,f)}else{for("user"===e&&(m.style.width=h+"px",m.style.height=h*t.length+"px"),g=n(v,t.name,f),O();v>=t.notHeadRows||j;)j=!1,v=b(),g=n(v,t.name,f),O();u[t.name]=n(v,t.name,f),d[t.name]=a(v,t.name,f)}switch(t.name){case"aircraftCarrier":i.num=v;break;case"battleship":c.num=v;break;case"cruiser":s.num=v;break;case"submarine":o.num=v;break;case"destroyer":l.num=v;break;default:console.error("Not a valid ship name")}"user"===e&&document.getElementsByClassName("users-water")[0].children[v].appendChild(m)}))};var j=function(){return[{name:"aircraftCarrier",id:"aircraft-carrier",notHeadColumns:/G|H|I|J/,notHeadRows:60,length:5,life:5},{name:"battleship",id:"battleship",notHeadColumns:/H|I|J/,notHeadRows:70,length:4,life:4},{name:"cruiser",id:"cruiser",notHeadColumns:/I|J/,notHeadRows:80,length:3,life:3},{name:"submarine",id:"submarine",notHeadColumns:/I|J/,notHeadRows:80,length:3,life:3},{name:"destroyer",id:"destroyer",notHeadColumns:/J/,notHeadRows:90,length:2,life:2}]};var O=function(e){var t=null,r=null;switch(e.toString().slice(-1)){case"0":r="A";break;case"1":r="B";break;case"2":r="C";break;case"3":r="D";break;case"4":r="E";break;case"5":r="F";break;case"6":r="G";break;case"7":r="H";break;case"8":r="I";break;case"9":r="J";break;default:console.error("Vertical: Invalid cell input")}return e>=0&&e<10?t=1:e>=10&&e<20?t=2:e>=20&&e<30?t=3:e>=30&&e<40?t=4:e>=40&&e<50?t=5:e>=50&&e<60?t=6:e>=60&&e<70?t=7:e>=70&&e<80?t=8:e>=80&&e<90?t=9:e>=90&&e<100?t=10:console.log("Horizontal: Invalid cell input!"),r+t};function x(e,t,r){var n=e,a=[],i=null;switch(t){case"aircraftCarrier":i=5;break;case"battleship":i=4;break;case"cruiser":case"submarine":i=3;break;case"destroyer":i=2;break;default:console.error("Not a valid ship name")}for(var c=0;c<i;c++)a.push(n),n+="h"===r?1:10;return a}function k(e,t,r){var n=e,a=[],i=null;switch(t){case"aircraftCarrier":i=5;break;case"battleship":i=4;break;case"cruiser":case"submarine":i=3;break;case"destroyer":i=2;break;default:console.error("Not a valid ship name")}for(var c=0;c<i;c++)a.push(O(n)),n+="h"===r?1:10;return a}var w=function(){var e=document.getElementsByClassName("ship-dock");Object(y.a)(e).forEach((function(e){for(var t=0;t<5;t++){var r=document.createElement("div");r.classList.add("ship-in-docking-area"),e.appendChild(r)}}))},E=r(8);var C=function(e,t,r,n,a,i,c,s){if(!e){var o,l=document.getElementsByClassName("users-water")[0].children[0].clientWidth,u=t.target.dataset.orientation,d=null,m=null,b=c(a,n,u)[0],f=[],h=!1,p=Object(E.a)(r);try{for(p.s();!(o=p.n()).done;){var v=o.value;v.name===n&&(d=v)}}catch(j){p.e(j)}finally{p.f()}function g(){for(var e=0;e<f.length;e++)if(m.includes(f[e]))return void(h=!0)}m=(m=Object(y.a)(new Set([].concat(Object(y.a)(s.aircraftCarrier),Object(y.a)(s.battleship),Object(y.a)(s.cruiser),Object(y.a)(s.submarine),Object(y.a)(s.destroyer))))).filter((function(e){return e!==b})),"h"===u?(f=c(a,n,"v"),g(),a<d.notHeadRows&&!1===h&&(t.target.dataset.orientation="v",t.target.style.width=l+"px",t.target.style.height=l*d.length+"px",s[n]=f)):(f=c(a,n,"h"),g(),d.notHeadColumns.test(i(a))||!1!==h||(t.target.dataset.orientation="h",t.target.style.width=l*d.length+"px",t.target.style.height=l+"px",s[n]=f))}};var B=function(e,t,r,n,a,i,c,s,o){if(!e){var l=null,u=null,m=null,b=null,f=[],h=!1;d()(t).draggable({modifiers:[d.a.modifiers.snap({targets:[d.a.snappers.grid({x:35,y:35})],relativePoints:[{x:0,y:0}],offset:"self"}),d.a.modifiers.restrictRect({restriction:".users-water"})]}).on("dragstart",(function(){l=a.num,u=s[r],m={x:n.x,y:n.y},b=Object(y.a)(new Set([].concat(Object(y.a)(s.aircraftCarrier),Object(y.a)(s.battleship),Object(y.a)(s.cruiser),Object(y.a)(s.submarine),Object(y.a)(s.destroyer)))),u.forEach((function(e){b=b.filter((function(t){return t!==e}))}))})).on("dragmove",(function(e){var t=e.target.dataset.orientation;n.x+=e.dx,n.y+=e.dy,e.target.style.transform="translate(".concat(n.x,"px, ").concat(n.y,"px)"),a.num=Math.round(a.num+(e.dx/35+e.dy/3.5)),s[r]=i(a.num,r,t),o[r]=c(a.num,r,t)})).on("dragend",(function(e){var t=e.target.dataset.orientation;f=i(a.num,r,t),function(){for(var e=0;e<f.length;e++)if(b.includes(f[e]))return void(h=!0)}(),h?(console.error("Cell Occupied = "+h),h=!1,n.x=m.x,n.y=m.y,e.target.style.transform="translate(".concat(m.x,"px, ").concat(m.y,"px)"),a.num=l,s[r]=i(l,r,t),o[r]=c(l,r,t)):console.log("Cell Occupied = "+h),console.log(s[r]),console.log(o[r])}))}};var I=function(e,t,r,n,a){var i=Number("pc"===e?t.id.slice(8):t.id.slice(10));if(Object(y.a)(new Set([].concat(Object(y.a)(r.aircraftCarrier),Object(y.a)(r.battleship),Object(y.a)(r.cruiser),Object(y.a)(r.submarine),Object(y.a)(r.destroyer)))).includes(i)){for(var c in t.style.backgroundColor="#fd5e53",r)if(r[c].includes(i))for(var s=0;s<a.length;s++)a[s].name===c&&(a[s].life-=1),0===a[s].life&&(n[s].style.backgroundColor="#fd5e53")}else t.innerText="\u2022",t.style.color="dimgrey",t.style.backgroundColor="#e5e4e2"},L=!1,H=null,S=null,N=null,A=null,G=null,J=null,R=null,M=null,T=[],q={num:null},P={num:null},Y={num:null},D={num:null},F={num:null},W={num:null},_={num:null},z={num:null},V={num:null},$={num:null},K=j(),Q=j(),U={x:0,y:0},X={x:0,y:0},Z={x:0,y:0},ee={x:0,y:0},te={x:0,y:0},re={aircraftCarrier:[],battleship:[],cruiser:[],submarine:[],destroyer:[]},ne={aircraftCarrier:[],battleship:[],cruiser:[],submarine:[],destroyer:[]},ae={aircraftCarrier:[],battleship:[],cruiser:[],submarine:[],destroyer:[]},ie={aircraftCarrier:[],battleship:[],cruiser:[],submarine:[],destroyer:[]};var ce=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){p(),v(),g("user",K,O,x,k,q,P,Y,D,F,re,ne),g("pc",Q,O,x,k,W,_,z,V,$,ae,ie),w(),H=document.getElementById("info-area"),(S=document.getElementById("game-info")).innerText="Position your ships",N=document.querySelectorAll("div[id^='user-cell-']"),A=document.querySelectorAll("div[id^='pc-cell-']"),G=document.querySelectorAll(".user-ships .ship-in-docking-area"),J=document.querySelectorAll(".pc-ships .ship-in-docking-area"),R=document.getElementById("start-game-btn"),M=document.getElementById("restart-game-btn")}),[]),Object(n.useEffect)((function(){var e=function(e){return C(r,e,K,"aircraftCarrier",q.num,O,x,re)},t=function(e){return C(r,e,K,"battleship",P.num,O,x,re)},n=function(e){return C(r,e,K,"cruiser",Y.num,O,x,re)},a=function(e){return C(r,e,K,"submarine",D.num,O,x,re)},i=function(e){return C(r,e,K,"destroyer",F.num,O,x,re)},c=function(e){return Array.from(e).every((function(e){return e.style.backgroundColor}))&&(L=!0)};function s(){!r||this.style.backgroundColor||L||(this.style.border="1px solid brown",this.style.cursor="pointer")}function o(){this.style.border="",this.style.cursor=""}function l(){if(r&&!this.style.backgroundColor&&!L&&(I("pc",this,ae,J,Q),c(J),L&&(H.style.backgroundColor="#e9ffdb",H.style.borderColor="green",S.style.color="green",S.innerText="Congratulations!!! You won the Game!"),!L)){for(var e=function(){return Math.floor(100*Math.random())},t=e();T.includes(t);)t=e();T.push(t),I("user",N[t],re,G,K),c(G),L&&(H.style.backgroundColor="#ffe0f0",H.style.borderColor="red",S.style.color="red",S.innerText="Oops!!! You lost the Game!")}}return B(r,"#aircraft-carrier","aircraftCarrier",U,q,x,k,re,ne),B(r,"#battleship","battleship",X,P,x,k,re,ne),B(r,"#cruiser","cruiser",Z,Y,x,k,re,ne),B(r,"#submarine","submarine",ee,D,x,k,re,ne),B(r,"#destroyer","destroyer",te,F,x,k,re,ne),document.getElementById("aircraft-carrier").addEventListener("dblclick",e),document.getElementById("battleship").addEventListener("dblclick",t),document.getElementById("cruiser").addEventListener("dblclick",n),document.getElementById("submarine").addEventListener("dblclick",a),document.getElementById("destroyer").addEventListener("dblclick",i),A.forEach((function(e){return e.addEventListener("mouseenter",s)})),A.forEach((function(e){return e.addEventListener("mouseleave",o)})),A.forEach((function(e){return e.addEventListener("click",l)})),function(){document.getElementById("aircraft-carrier").removeEventListener("dblclick",e),document.getElementById("battleship").removeEventListener("dblclick",t),document.getElementById("cruiser").removeEventListener("dblclick",n),document.getElementById("submarine").removeEventListener("dblclick",a),document.getElementById("destroyer").removeEventListener("dblclick",i),A.forEach((function(e){return e.removeEventListener("mouseenter",s)})),A.forEach((function(e){return e.removeEventListener("mouseleave",o)})),A.forEach((function(e){return e.removeEventListener("click",l)}))}}),[r]),Object(s.jsxs)("div",{children:[Object(s.jsx)("section",{id:"info-area",children:Object(s.jsx)("p",{id:"game-info"})}),Object(s.jsxs)("section",{id:"grid-area",children:[Object(s.jsx)(f,{}),Object(s.jsx)(h,{})]}),Object(s.jsxs)("section",{id:"button-area",children:[Object(s.jsx)("button",{id:"start-game-btn",onClick:function(){["#aircraft-carrier","#battleship","#cruiser","#submarine","#destroyer"].forEach((function(e){return d()(e).unset()})),a(!0),R.style.display="none",M.style.display="block",H.style.backgroundColor="whitesmoke",H.style.borderColor="dimgrey",S.style.color="dimgrey",S.innerText="Game Started"},children:"Start the Game"}),Object(s.jsx)("button",{id:"restart-game-btn",onClick:function(){return window.location.reload()},children:"Restart Game"})]})]})};var se=function(){return Object(s.jsxs)("div",{id:"footer",children:[Object(s.jsx)("a",{href:"https://www.codesweetly.com/",rel:"noreferrer",target:"_blank",children:"Created by Oluwatobi Sofela"}),Object(s.jsx)("a",{href:"https://www.wikihow.com/Play-Battleship/",rel:"noreferrer",target:"_blank",children:"About the Game"})]})};var oe=function(){return Object(s.jsxs)("main",{children:[Object(s.jsx)(o,{}),Object(s.jsx)(ce,{}),Object(s.jsx)(se,{})]})};r(15);c.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(oe,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.35cc094b.chunk.js.map