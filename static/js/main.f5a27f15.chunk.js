(this["webpackJsonpbattleship-game"]=this["webpackJsonpbattleship-game"]||[]).push([[0],{15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var n=r(2),o=r.n(n),a=r(7),i=r.n(a),l=r(0);var s=function(){return Object(l.jsx)("h1",{children:"Battleship"})},c=r(9),u=r(3),d=r.n(u);var m=function(e){return Object(l.jsx)("div",{className:"game-board ".concat(e.boardOwner),children:Object(l.jsx)("div",{className:"game-water ".concat(e.waterOwner)})})};var f=function(e){return Object(l.jsx)("div",{className:"ship-dock ".concat(e.shipOwner)})};var h=function(){return Object(l.jsxs)("div",{className:"board-n-ships",children:[Object(l.jsx)(m,{boardOwner:"users-board",waterOwner:"users-water"}),Object(l.jsx)(f,{shipOwner:"user-ships"}),Object(l.jsx)("p",{children:"Your Battleships"})]})};var b=function(){return Object(l.jsxs)("div",{className:"board-n-ships",children:[Object(l.jsx)(m,{boardOwner:"pc-board",waterOwner:"pc-water"}),Object(l.jsx)(f,{shipOwner:"pc-ships"}),Object(l.jsx)("p",{children:"Computer's Battleships"})]})},p=r(1);var C=function(){var e=document.getElementsByClassName("game-board");Object(p.a)(e).forEach((function(e){for(var t=0;t<121;t++){var r=document.createElement("div");if(r.classList.add("coordinate"),t>0&&t<11){r.append(["","A","B","C","D","E","F","G","H","I","J"][t])}/^11$|22|33|44|55|66|77|88|99|110/.test(t.toString())&&r.append(t.toString().slice(1)),e.appendChild(r)}}))};var y=function(){var e=document.getElementsByClassName("game-water");Object(p.a)(e).forEach((function(e){for(var t=0;t<100;t++){var r=document.createElement("div");r.classList.add("cell"),e.classList.contains("pc-water")?r.setAttribute("id","pc-cell-".concat(t)):r.setAttribute("id","user-cell-".concat(t)),e.appendChild(r)}}))};var v=function(e,t,r,n,o,a,i,l,s,c,u,d){t.forEach((function(t){var m=document.createElement("div"),f=function(){return Math.floor(100*Math.random())},h=Math.floor(2*Math.random())%2===0?"h":"v",b=document.getElementsByClassName("users-water")[0].children[0].clientWidth,C=Object(p.a)(new Set([].concat(Object(p.a)(u.aircraftCarrier),Object(p.a)(u.battleship),Object(p.a)(u.cruiser),Object(p.a)(u.submarine),Object(p.a)(u.destroyer)))),y=f(),v=[],g=!1;function j(){for(var e=0;e<v.length;e++)if(C.includes(v[e]))return void(g=!0)}if("user"===e&&(m.setAttribute("id",t.id),m.setAttribute("data-orientation",h)),"h"===h){for("user"===e&&(m.style.width=b*t.length+"px",m.style.height=b+"px"),v=n(y,t.name,h),j();t.notHeadColumns.test(r(y))||g;)g=!1,y=f(),v=n(y,t.name,h),j();u[t.name]=n(y,t.name,h),d[t.name]=o(y,t.name,h)}else{for("user"===e&&(m.style.width=b+"px",m.style.height=b*t.length+"px"),v=n(y,t.name,h),j();y>=t.notHeadRows||g;)g=!1,y=f(),v=n(y,t.name,h),j();u[t.name]=n(y,t.name,h),d[t.name]=o(y,t.name,h)}switch(t.name){case"aircraftCarrier":a.num=y;break;case"battleship":i.num=y;break;case"cruiser":l.num=y;break;case"submarine":s.num=y;break;case"destroyer":c.num=y;break;default:console.error("Not a valid ship name")}"user"===e&&document.getElementsByClassName("users-water")[0].children[y].appendChild(m)}))};var g=function(){return[{name:"aircraftCarrier",id:"aircraft-carrier",notHeadColumns:/G|H|I|J/,notHeadRows:60,length:5,life:5},{name:"battleship",id:"battleship",notHeadColumns:/H|I|J/,notHeadRows:70,length:4,life:4},{name:"cruiser",id:"cruiser",notHeadColumns:/I|J/,notHeadRows:80,length:3,life:3},{name:"submarine",id:"submarine",notHeadColumns:/I|J/,notHeadRows:80,length:3,life:3},{name:"destroyer",id:"destroyer",notHeadColumns:/J/,notHeadRows:90,length:2,life:2}]};var j=function(e){var t=null,r=null;switch(e.toString().slice(-1)){case"0":r="A";break;case"1":r="B";break;case"2":r="C";break;case"3":r="D";break;case"4":r="E";break;case"5":r="F";break;case"6":r="G";break;case"7":r="H";break;case"8":r="I";break;case"9":r="J";break;default:console.error("Vertical: Invalid cell input")}return e>=0&&e<10?t=1:e>=10&&e<20?t=2:e>=20&&e<30?t=3:e>=30&&e<40?t=4:e>=40&&e<50?t=5:e>=50&&e<60?t=6:e>=60&&e<70?t=7:e>=70&&e<80?t=8:e>=80&&e<90?t=9:e>=90&&e<100?t=10:console.log("Horizontal: Invalid cell input!"),r+t};function x(e,t,r){var n=e,o=[],a=null;switch(t){case"aircraftCarrier":a=5;break;case"battleship":a=4;break;case"cruiser":case"submarine":a=3;break;case"destroyer":a=2;break;default:console.error("Not a valid ship name")}for(var i=0;i<a;i++)o.push(n),n+="h"===r?1:10;return o}function O(e,t,r){var n=e,o=[],a=null;switch(t){case"aircraftCarrier":a=5;break;case"battleship":a=4;break;case"cruiser":case"submarine":a=3;break;case"destroyer":a=2;break;default:console.error("Not a valid ship name")}for(var i=0;i<a;i++)o.push(j(n)),n+="h"===r?1:10;return o}var k=function(){var e=document.getElementsByClassName("ship-dock");Object(p.a)(e).forEach((function(e){for(var t=0;t<5;t++){var r=document.createElement("div");r.classList.add("ship-in-docking-area"),e.appendChild(r)}}))},w=r(8);var E=function(e,t,r,n,o,a,i,l){if(!e){var s,c=document.getElementsByClassName("users-water")[0].children[0].clientWidth,u=t.target.dataset.orientation,d=null,m=null,f=i(o,n,u)[0],h=[],b=!1,C=Object(w.a)(r);try{for(C.s();!(s=C.n()).done;){var y=s.value;y.name===n&&(d=y)}}catch(g){C.e(g)}finally{C.f()}function v(){for(var e=0;e<h.length;e++)if(m.includes(h[e]))return void(b=!0)}m=(m=Object(p.a)(new Set([].concat(Object(p.a)(l.aircraftCarrier),Object(p.a)(l.battleship),Object(p.a)(l.cruiser),Object(p.a)(l.submarine),Object(p.a)(l.destroyer))))).filter((function(e){return e!==f})),"h"===u?(h=i(o,n,"v"),v(),o<d.notHeadRows&&!1===b&&(t.target.dataset.orientation="v",t.target.style.width=c+"px",t.target.style.height=c*d.length+"px",l[n]=h)):(h=i(o,n,"h"),v(),d.notHeadColumns.test(a(o))||!1!==b||(t.target.dataset.orientation="h",t.target.style.width=c*d.length+"px",t.target.style.height=c+"px",l[n]=h))}};var S=function(e,t,r,n,o,a,i,l,s){if(!e){var c=null,u=null,m=null,f=null,h=[],b=!1;d()(t).draggable({modifiers:[d.a.modifiers.snap({targets:[d.a.snappers.grid({x:35,y:35})],relativePoints:[{x:0,y:0}],offset:"self"}),d.a.modifiers.restrictRect({restriction:".users-water"})]}).on("dragstart",(function(){c=o.num,u=l[r],m={x:n.x,y:n.y},f=Object(p.a)(new Set([].concat(Object(p.a)(l.aircraftCarrier),Object(p.a)(l.battleship),Object(p.a)(l.cruiser),Object(p.a)(l.submarine),Object(p.a)(l.destroyer)))),u.forEach((function(e){f=f.filter((function(t){return t!==e}))}))})).on("dragmove",(function(e){var t=e.target.dataset.orientation;n.x+=e.dx,n.y+=e.dy,e.target.style.transform="translate(".concat(n.x,"px, ").concat(n.y,"px)"),o.num=Math.round(o.num+(e.dx/35+e.dy/3.5)),l[r]=a(o.num,r,t),s[r]=i(o.num,r,t)})).on("dragend",(function(e){var t=e.target.dataset.orientation;h=a(o.num,r,t),function(){for(var e=0;e<h.length;e++)if(f.includes(h[e]))return void(b=!0)}(),b&&(b=!1,n.x=m.x,n.y=m.y,e.target.style.transform="translate(".concat(m.x,"px, ").concat(m.y,"px)"),o.num=c,l[r]=a(c,r,t),s[r]=i(c,r,t))}))}};var A=function(e,t,r,n,o,a,i,l){var s=Number("pc"===e?t.id.slice(8):t.id.slice(10)),c=Object(p.a)(new Set([].concat(Object(p.a)(r.aircraftCarrier),Object(p.a)(r.battleship),Object(p.a)(r.cruiser),Object(p.a)(r.submarine),Object(p.a)(r.destroyer))));if(c.includes(s)){for(var u in t.style.backgroundColor="#fd5e53",r)if(r[u].includes(s))for(var d=0;d<o.length;d++)o[d].name===u&&(o[d].life-=1,"pc"===e&&0===o[d].life&&(n[d].style.backgroundColor="#fd5e53"),"user"===e&&0===o[d].life&&(a.shipSunk=!0,n[d].style.backgroundColor="#fd5e53"));"user"===e&&(a.withinAreaFired=!0,1===a.numOfAttempts?(a.refCell=s,i(s).includes("J")?i(s).includes("J")&&(l.includes(s-1)?!l.includes(s-10)&&s-10>=0?(a.nextCellToShoot=s-10,a.shootDirection="u"):!l.includes(s+10)&&s+10<=99&&(a.nextCellToShoot=s+10,a.shootDirection="d"):(a.nextCellToShoot=s-1,a.shootDirection="l")):l.includes(s+1)?l.includes(s-1)||i(s).includes("A")?!l.includes(s-10)&&s-10>=0?(a.nextCellToShoot=s-10,a.shootDirection="u"):!l.includes(s+10)&&s+10<=99&&(a.nextCellToShoot=s+10,a.shootDirection="d"):(a.nextCellToShoot=s-1,a.shootDirection="l"):(a.nextCellToShoot=s+1,a.shootDirection="r")):a.numOfAttempts>=2&&"r"===a.shootDirection?i(s).includes("J")||l.includes(s+1)?l.includes(a.refCell-1)||(i(s).includes("J")||l.includes(s+1))&&(a.nextCellToShoot=a.refCell-1,a.shootDirection="l"):a.nextCellToShoot=s+1:a.numOfAttempts>=2&&"l"===a.shootDirection?i(s).includes("A")||l.includes(s-1)||(a.nextCellToShoot=s-1):a.numOfAttempts>=2&&"u"===a.shootDirection?s-10>=0&&!l.includes(s-10)?a.nextCellToShoot=s-10:s-10<=0&&!l.includes(a.refCell+10)&&(a.nextCellToShoot=a.refCell+10,a.shootDirection="d"):a.numOfAttempts>=2&&"d"===a.shootDirection&&s+10<=99&&!l.includes(s+10)&&(a.nextCellToShoot=s+10),a.numOfAttempts+=1,a.shipSunk&&(a.withinAreaFired=!1,a.numOfAttempts=1,a.refCell=null,a.nextCellToShoot=null,a.shootDirection=null,a.shipSunk=!1))}c.includes(s)||(t.style.backgroundColor="#bcd4e6","user"===e&&a.withinAreaFired&&(a.numOfAttempts>=2&&"r"===a.shootDirection?i(a.refCell).includes("A")?i(a.refCell).includes("A")&&(!l.includes(a.refCell-10)&&a.refCell-10>=0?(a.nextCellToShoot=a.refCell-10,a.shootDirection="u"):!l.includes(a.refCell+10)&&a.refCell+10<=99&&(a.nextCellToShoot=a.refCell+10,a.shootDirection="d")):l.includes(a.refCell-1)?l.includes(a.refCell-1)&&!l.includes(a.refCell-10)?(a.nextCellToShoot=a.refCell-10,a.shootDirection="u"):l.includes(a.refCell-1)&&!l.includes(a.refCell-10)&&(a.nextCellToShoot=a.refCell+10,a.shootDirection="d"):(a.nextCellToShoot=a.refCell-1,a.shootDirection="l"):a.numOfAttempts>=2&&"l"===a.shootDirection?a.refCell-10>=0&&!l.includes(a.refCell-10)?(a.nextCellToShoot=a.refCell-10,a.shootDirection="u"):a.refCell+10<=99&&!l.includes(a.refCell+10)&&(a.nextCellToShoot=a.refCell+10,a.shootDirection="d"):a.numOfAttempts>=2&&"u"===a.shootDirection&&a.refCell+10<=99&&!l.includes(a.refCell+10)&&(a.nextCellToShoot=a.refCell+10,a.shootDirection="d"),a.numOfAttempts+=1))},T=!1,D=null,B=null,I=null,L=null,H=null,N=null,J=null,G=null,R=[],M={num:null},F={num:null},q={num:null},P={num:null},Y={num:null},W={num:null},_={num:null},z={num:null},V={num:null},$={num:null},K=g(),Q=g(),U={x:0,y:0},X={x:0,y:0},Z={x:0,y:0},ee={x:0,y:0},te={x:0,y:0},re={withinAreaFired:!1,numOfAttempts:1,refCell:null,nextCellToShoot:null,shootDirection:null,shipSunk:!1},ne={aircraftCarrier:[],battleship:[],cruiser:[],submarine:[],destroyer:[]},oe={aircraftCarrier:[],battleship:[],cruiser:[],submarine:[],destroyer:[]},ae={aircraftCarrier:[],battleship:[],cruiser:[],submarine:[],destroyer:[]},ie={aircraftCarrier:[],battleship:[],cruiser:[],submarine:[],destroyer:[]};var le=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),r=t[0],o=t[1];return Object(n.useEffect)((function(){C(),y(),v("user",K,j,x,O,M,F,q,P,Y,ne,oe),v("pc",Q,j,x,O,W,_,z,V,$,ae,ie),k(),D=document.getElementById("info-area"),(B=document.getElementById("game-info")).innerText="Position your ships",I=document.querySelectorAll("div[id^='user-cell-']"),L=document.querySelectorAll("div[id^='pc-cell-']"),H=document.querySelectorAll(".user-ships .ship-in-docking-area"),N=document.querySelectorAll(".pc-ships .ship-in-docking-area"),J=document.getElementById("start-game-btn"),G=document.getElementById("restart-game-btn")}),[]),Object(n.useEffect)((function(){var e=function(e){return E(r,e,K,"aircraftCarrier",M.num,j,x,ne)},t=function(e){return E(r,e,K,"battleship",F.num,j,x,ne)},n=function(e){return E(r,e,K,"cruiser",q.num,j,x,ne)},o=function(e){return E(r,e,K,"submarine",P.num,j,x,ne)},a=function(e){return E(r,e,K,"destroyer",Y.num,j,x,ne)},i=function(e){return Array.from(e).every((function(e){return e.style.backgroundColor}))&&(T=!0)};function l(){!r||this.style.backgroundColor||T||(this.style.border="1px solid brown",this.style.cursor="pointer")}function s(){this.style.border="",this.style.cursor=""}function c(){!r||this.style.backgroundColor||T||(A("pc",this,ae,N,Q),i(N),T&&(D.style.backgroundColor="#e9ffdb",D.style.borderColor="green",B.style.color="green",B.innerText="Congratulations!!! You won the Game!"),function(){if(!T){var e=function(){return Math.floor(100*Math.random())},t=null;for(t=null!==re.nextCellToShoot?re.nextCellToShoot:e();R.includes(t);)t=e();R.push(t),A("user",I[t],ne,H,K,re,j,R),i(H),T&&(D.style.backgroundColor="#ffe0f0",D.style.borderColor="red",B.style.color="red",B.innerText="Oops!!! You lost the Game!")}}())}return S(r,"#aircraft-carrier","aircraftCarrier",U,M,x,O,ne,oe),S(r,"#battleship","battleship",X,F,x,O,ne,oe),S(r,"#cruiser","cruiser",Z,q,x,O,ne,oe),S(r,"#submarine","submarine",ee,P,x,O,ne,oe),S(r,"#destroyer","destroyer",te,Y,x,O,ne,oe),document.getElementById("aircraft-carrier").addEventListener("dblclick",e),document.getElementById("battleship").addEventListener("dblclick",t),document.getElementById("cruiser").addEventListener("dblclick",n),document.getElementById("submarine").addEventListener("dblclick",o),document.getElementById("destroyer").addEventListener("dblclick",a),L.forEach((function(e){return e.addEventListener("mouseenter",l)})),L.forEach((function(e){return e.addEventListener("mouseleave",s)})),L.forEach((function(e){return e.addEventListener("click",c)})),function(){document.getElementById("aircraft-carrier").removeEventListener("dblclick",e),document.getElementById("battleship").removeEventListener("dblclick",t),document.getElementById("cruiser").removeEventListener("dblclick",n),document.getElementById("submarine").removeEventListener("dblclick",o),document.getElementById("destroyer").removeEventListener("dblclick",a),L.forEach((function(e){return e.removeEventListener("mouseenter",l)})),L.forEach((function(e){return e.removeEventListener("mouseleave",s)})),L.forEach((function(e){return e.removeEventListener("click",c)}))}}),[r]),Object(l.jsxs)("div",{children:[Object(l.jsx)("section",{id:"info-area",children:Object(l.jsx)("p",{id:"game-info"})}),Object(l.jsxs)("section",{id:"grid-area",children:[Object(l.jsx)(h,{}),Object(l.jsx)(b,{})]}),Object(l.jsxs)("section",{id:"button-area",children:[Object(l.jsx)("button",{id:"start-game-btn",onClick:function(){["#aircraft-carrier","#battleship","#cruiser","#submarine","#destroyer"].forEach((function(e){return d()(e).unset()})),o(!0),J.style.display="none",G.style.display="block",D.style.backgroundColor="whitesmoke",D.style.borderColor="dimgrey",B.style.color="dimgrey",B.innerText="Game Started"},children:"Start the Game"}),Object(l.jsx)("button",{id:"restart-game-btn",onClick:function(){return window.location.reload()},children:"Restart Game"})]})]})};var se=function(){return Object(l.jsxs)("div",{id:"footer",children:[Object(l.jsx)("a",{href:"https://www.codesweetly.com/",rel:"noreferrer",target:"_blank",children:"Created by Oluwatobi Sofela"}),Object(l.jsx)("a",{href:"https://www.wikihow.com/Play-Battleship/",rel:"noreferrer",target:"_blank",children:"About the Game"})]})};var ce=function(){return Object(l.jsxs)("main",{children:[Object(l.jsx)(s,{}),Object(l.jsx)(le,{}),Object(l.jsx)(se,{})]})};r(15);i.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(ce,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.f5a27f15.chunk.js.map